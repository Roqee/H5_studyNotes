# 计算机网络原理

## 课程知识脉络

**第一章：计算机网络概述**

**第二章：网络应用**

**第三章：传输层**

**第四章：网络层**

**第五章：数据链路层与局域网**

**第六章：物理层**

**第七章：无线与移动网络**

**第八章：网络安全基础**





## 学习思路：

* 内容的组织：**TCP/IP 体系结构**为核心，自顶向下的组织方式
* 学习过程： 问题引入、解决方法、关联知识点
* 整体与局部：重点领会**计算机网络的分层**设计思路和各层间的关系
* 学习方法：把握主线、迭代学习、学练结合，避免死记硬背







## 第一章  计算机网络概述

**第一节：计算机网络的基本概念**

**第二节：计算机网络结构**

**第三节：数据交换技术**

**第四节：计算机网络性能**

**第五节：计算机网络体系结构**

**第六节：计算机网络与因特网发展简史**

![image-20220112080904600](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112080904600.png)





### 第一节  计算机网络基本概念

#### 一、计算机网络的定义

计算机网络是利用通讯设备与通讯链路或者通讯网络互连位置不同、功能自治的计算机系统，并遵循一定规则实现计算机 系统之间信息交换。

概括性的定义：计算机网络是**互连**的、**自治**的计算机的集合

![image-20220112081458920](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112081458920.png)





#### 二、协议的定义

协议是网络通信实体之间在数据交换过程中需要遵循的规则或约定，包括三个基本要素：

（1）语法：实体之间交换信息的格式与结构；

（2）语义：实体之间交换的信息中需要发送（或包含）哪些控制信息，这些信息的基本含义，以及针对不同含义的控制信息，接收信息端应如何响应；

（3）时序：实体之间交换信息的顺序以及如何匹配或适应彼此的速度。

![image-20220112082408993](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112082408993.png)





#### 三、计算机网络的功能

1. 硬件功能共享
2. 软件功能共享
3. 信息资源共享

![image-20220112082535520](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112082535520.png)





#### 四、计算机网络的分类

1. 按覆盖范围：个域网、局域网、城域网、广域网。
2. 按拓扑结构：星形、总线型、环形、网状、树形、混合拓扑结构等。
3. 按交换方式：电路交换网络、报文交换网络和**分组交换**网络。
4. 按网络用户属性：公用网、私有网。

![image-20220112083009507](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112083009507.png)







### 第二节  计算机网络结构

**一、网络边缘**

**二、接入网络**

1. 电话拨号
2. 非对称用户数字线ADSL
3. 混合光纤同轴电缆HFC
4. 局域网
5. 移动接入网络

**三、网络核心**

![image-20220112201427886](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112201427886.png)





### 第三节   数据交换技术

#### 一、数据交换的概念

![image-20220112201646674](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112201646674.png)



#### 二、电路交换

在电路交换网络中，首先需要通过中间交换结点为两台主机之间建立一条专用的通信线路，称为电路，然后再利用该电路进行通讯，通讯结束后再拆除电路。

![image-20220112202259133](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112202259133.png)





#### 三、报文交换

![image-20220112202449281](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112202449281.png)





#### 四、分组交换

![image-20220112202702455](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112202702455.png)



**2. 优点：**

（1）交换设备存储容量要求低；

（2）交换速度快

（3）可靠传输效率高

（4）更加公平



**3. 分组长度的确定：**

（1）分组长度与延迟时间

（2）分组长度与误码率







### 第四节  计算机网络性能

#### 一、速率与带宽

1. **速率**是指网络单位时间内传送的数据量，也称为传输速率或数据速率。速率的基本单位是bit/s（位每秒）/bps。
2. 在计算机网络中，有时也会用**“带宽”**这一术语描述速率。
3. 带宽原本是指信号具有的**频带宽度**，即信号成分的最高频率与最低频率之差，单位为Hz（赫兹）



#### 二、时延

1. 时延是指数据从网络中的一个结点（主机或交换设备等）到达另一结点所需要的时间。
2. 分组的每跳传输过程主要产生4类时间延迟：节点处理时延、排队时延、传输时延和传播时延。



#### 三、时延带宽积

一段物理链路的传播时延与链路带宽的乘积。

表示一段链路可以容纳的数据位数，也称为以位为单位的链路长度



#### 四、丢包率

丢包率常被用于评价和衡量网络性能的指标，在很大程度上可以反应网络的拥塞程度。、

丢包率=丢失分组总数/发送分组总数



#### 五、吞吐量

单位时间内源主机通过网络向目的主机实际送达的数据量。

常被用于度量网络的实际数据传送（通过）能力，即网络实际可以达到的源主机到目的主机的数据传送速率。







### 第五节  计算机网络体系结构

#### 一、计算机网络分层体系结构

1. 分层思想：

   计算机网络完成的所有功能可以划分为若干层，每层完成一部分功能，每层在完成相应功能时于另一通信实体的相同层次按照某种协议进行信息交换

2. 体系结构定义：

   计算机网络所划分的层次以及各层协议的集合称为计算机网络体系结构



#### 二、OSI参考模型

![image-20220112205709892](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112205709892.png)





#### 三、TCP/IP参考模型

![image-20220112210041771](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112210041771.png)





#### 四、五层参考模型

![image-20220112210650990](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112210650990.png)







### 第六节  计算机网络与因特网发展简史

![image-20220112211038662](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112211038662.png)







#### 本章小结

##### 本章重难点回顾：

1. 三种典型的数据交换方式及各自的优缺点；
2. 计算机网络的性能指标及计算方法；
3. 计算机网络三种主要体系结构的层次划分及各层主要功能。





## 第二章  网络应用

### 本章知识结构

![image-20220112211507640](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112211507640.png)





### 第一节  计算机网络应用体系结构

#### 三种类型：

1. 客户/服务器（C/S）结构

   最主要的特征是通讯只在客户和服务端之间进行，客户与客户之间不进行直接通信。

2. P2P（Peer to Peer) 结构

   每个对等端都同时具备C/S应用的客户和服务器特征，是一个服务器与客户的结合体，对等端之间直接通信。

3. 混合结构

   既有中心服务器的存在，又有对等端（客户）间的直接通信。





### 第二节  网络应用通信基本原理

![image-20220112212820760](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112212820760.png)





### 第三节  域名系统（DNS）

#### 一、层次化域名空间

![image-20220112213325664](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112213325664.png)





#### 二、域名服务器

1. 域名解析

   将域名映射为IP地址的过程。

2. 域名服务器

   为了实现域名解析，需要建立分布式数据库，存储网络中域名与IP地址的映射数据关系，这些数据存储在域名服务器上，域名服务器根据用户的请求提供域名解析服务。

3. 域名服务器分类：

   * 根域名服务器

   * 顶级域名服务器

   * 权威域名服务器

   * 本地域名服务器





#### 三、域名解析过程

1. 递归查询

   代替查询主机或其他域名服务器，进行进一步的域名查询，并将最终解析结果发送给查询主机或服务器。

2. 迭代查询

   只是将下一步要查询的服务器告知查询主机或服务器。

![image-20220112214742199](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112214742199.png)

![image-20220112215007773](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112215007773.png)







### 第四节  万维网的应用

#### 一、万维网应用结构

![image-20220112215303281](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112215303281.png)







#### 二、HTTP

概念：超文本传输协议，定义浏览器如何向web服务器发送请求以及web服务器如何向浏览器进行响应。

版本：HTTP/1.0 和 HTTP/1.1

HTTP连接：非持久连接、持久连接

![image-20220112220025410](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112220025410.png)

![image-20220112220400689](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112220400689.png)



##### HTTP报文：

请求报文——从客户向服务器发送请求报文。

响应报文——从服务器到客户的回答。

![image-20220112220811033](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112220811033.png)



##### HTTP 请求报文：

HTTP典型的请求方法有 GET、HEAD、POST、OPTION、PUT等。

（1）GET：请求读取由URL所标识的信息。

（2）HEAD：请求读取由URL所标识的信息的首部，无需再响应报文中包含对象。

（3）POST:给服务器添加信息（例如，注释）。

（4）OPTION：请求一些选项的信息。

（5）PUT：在指明的URL下存储一个文档。



##### HTTP响应报文：

![image-20220112221626347](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112221626347.png)



##### HTTP状态码分类

| 状态码 | 作用       | 描述                               |
| ------ | ---------- | ---------------------------------- |
| 1xx    | 信息提示   | 通告信息，可能还需要进一步交互     |
| 2xx    | 成功       | 成功完成客户请求的操作，并进行响应 |
| 3xx    | 重定向     | 表示资源已移走，需要向新URL发请求  |
| 4xx    | 客户端错误 | 由于客户端请求错误，无法成功响应   |
| 5xx    | 服务端错误 | 由于服务端错误，无法成功响应       |





#### 三、Cookie

Cookie中文名称为小型文本文件，指某些网站为了辨别用户身份、进行会话跟踪而存储在用户本地终端上的数据。

**弥补了HTTP协议无状态性的不足，有利于进行用户跟踪并提供针对性的服务，带也带来一些安全问题。**

![image-20220112222759898](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112222759898.png)







### 第五节  Internet电子邮件

#### 一、电子邮件系统结构

![image-20220112223117323](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112223117323.png)



#### 二、SMTP

SMTP是Internet电子邮件中核心**应用层协议**，实现邮件服务器之间或用户代理到邮件服务器之间的邮件传输。

SMTP使用传输层 **TCP** 实现可靠数据传输，**端口号25**。

SMTP通过3个阶段的应用层交互完成邮件的传输，分别是**握手阶段**、**邮件传输阶段**和**关闭阶段**。

SMTP的基本交互方式是SMTP客户端发送命令，命令后面可能携带参数，SMTP服务器对命令进行应答。

![image-20220112230204792](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112230204792.png)





#### 三、电子邮件格式与MIME

![image-20220112230502134](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112230502134.png)





#### 四、邮件读取协议

1. 第三版的邮局协议

   （Post Office Protocol-Version 3，POP3）

2. 互联网邮件访问协议

   （Internet Mail Access Protocol，IMAP）

3. HTTP







### 第六节  FTP

文件传送协议（FTP）：在互联网的两个主机间实现文件互传的应用层协议。

C/S 模式，采用**控制连接**（21端口）传输控制命令，**数据连接**（20端口）传输文件内容。

![image-20220112231523271](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220112231523271.png)







### 第七节  P2P的应用

![image-20220115164654928](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115164654928.png)





### 第八节  Socket编程基础

#### Socket接口模型：

网络应用进程通信时需要通过API接口请求底层协议的服务。可以创建数据报类型套接字SOCK_DGRAM、流式套接字SOCK_STREAM和原始套接字SOCK_RAW。

![image-20220115165422774](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115165422774.png)

![image-20220115165608731](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115165608731.png)

![image-20220115165905202](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115165905202.png)







#### 本章小结

本章主要介绍了网络应用体系结构、网络应用通信基本原理、DNS、Web应用、电子邮件、FTP、P2P应用以及Socket编程等内容。





##### 本章重难点回顾：

1. 客户/服务器、P2P两种网络应用体系结构及各自的特点；
2. DNS的概念和工作原理；
3. 万维网应用结构和HTTP协议；
4. 电子邮件系统结构和协议。







## 第三章  传输层

![image-20220115170608130](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115170608130.png)



### 第一节  传输层的基本服务

#### 一、传输层功能

传输层的核心任务是为应用进程之间提供**端到端的逻辑通信服务**。

主要功能包括：

* 传输层寻址；
* 应用层报文的分组和重组；
* 报文的差错检测；
* 进程间的端到端可靠数据传输控制；
* 面向应用层实现复用与分解；
* 端到端的流量控制；
* 拥塞控制。



![image-20220115171520913](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115171520913.png)





#### 二、传输层寻址与端口

1. 用统一的寻址方法对应用进程进行标识——**端口号**。

2. 在全网范围内利用“**IP地址+端口号**”唯一标识一个通信端点（应用进程）。

3. 传输层端口号为16位整数，包含三类端口：

   （1）**熟知端口号**，数值为0~1023。

   （2）**登记端口号**，数值为1024~49151，为没有熟知端口号的应用程序使用的。使用这个范围的端口号必须在IANA登记以防止重复。

   （3）**客户端口号或短暂端口号**，数值为49152~65535，留给客户进程选择暂时使用。

![image-20220115172652540](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115172652540.png)





#### 三、无连接服务与面向连接服务

1. 无连接服务——数据传输之前无需与对端进行任何信息交换（即 ”握手“），直接构造传输层报文段并向接收端发送。——UDP
2. 面向连接服务——在数据传输之前，需要双方交换一些控制信息，**建立逻辑连接**，然后**再传输数据**，数据传输结束之后还需要**拆除连接**。——TCP







### 第二节  传输层的服用与分解

#### 传输层的复用与分解

多路复用与多路分解：是传输层的一项基本功能，支持众多应用进程共用同一个传输层协议，并能够将接收到的数据准确交付给不同的应用进程。

![image-20220115173408751](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115173408751.png)



#### 一、无连接的多路复用与多路分解

UDP套接字：<目的IP地址，目的端口号>

UDP套接字的端口号是UDP实现复用与分解的重要依据。

![image-20220115173731602](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115173731602.png)





#### 二、面向连接的多路复用与多路分解

TCP套接字（标识一条TCP连接）；

<源IP地址，源端口号，目的IP地址，目的端口号>

当一个TCP报文段从网络层到达一台主机时，该主机根据这4个值来将报文段分解到相应的套接字。

![image-20220115174158751](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115174158751.png)







### 第三节  停——等协议与滑动窗口协议

#### 一、可靠传输的基本原理：

1. 差错检测：利用差错编码是想数据包传输过程中的比特差错检测。
2. 确认：接受方向发送方反馈接收状态。
3. 重传：发送发重新发送接受方没有正确接收的数据。
4. 序号：确保数据按序提交。
5. 计时器：解决数据丢失问题。





#### 二、停——等协议

停——等协议的主要特点就是每次发送一个报文段后就停下来等待接收方的确认。

停——等协议的基本工作过程是：

1. 发送方发送经过差错编码和编号的报文段，等待接收方的确认；（**发送并等待确认**）
2. 接收方如果正确接收报文段，即差错检测无误且序号正确，则接收报文段，并向发送方发送ACK，否则丢弃报文段，冰箱发送方发送NAC；（**接收并确认/否认**）
3. 发送方如果收到ACK，则继续发送后续报文段，否则重发刚刚发送的报文段。（**继续发送/重发**）





#### 三、滑动窗口协议

1. 停——等协议的主要性能问题：

   **停止——等待机制降低了信道利用率。**

2. 解决方法：

   **流水线协议或管道协议——允许发送方在没有收到确认信号前连续发送多个分组。**

3. 流水线协议的改进：

   **增加分组序号的范围；**

   **发送方和（或）接收方必须缓存多个分组。**

4. 典型的流水线协议：

   **滑动窗口协议**

![image-20220115175923087](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115175923087.png)



两种最具代表性的滑动窗口协议：

1. 回退N步（Go-Back-N, GBN)协议：

   发送端口大小较大，可以在未得到确认之前连续发送多个分组；

   但接收窗口大小仅为1，只能接收1个按序到达的分组，未按序到达的分组或者某个分组差错，就会引起发送方重发该分组及其之后的所有分组。

2. 选择重传（Selective Repeat，SR）协议：

   增加接收方缓存能力（接收窗口>1），缓存正确到达但失序的分组，仅要求发送方重传未被接收方确认的分组，等缺失分组到达后一并向上层按序提交。







### 第四节  用户数据包协议（UDP）

用户数据报协议UDP是Internet传输层协议，提供**无连接、不可靠**、数据报尽力传输协议。



#### 一、UDP的数据包结构

1. 源和目的端口号：用于UDP实现复用和分解。
2. 长度字段：在UDP报文段中的字节数（首部和数据的总和）。
3. 校验和：接收方用来检测该报文段是否出现了差错。

![image-20220115181725364](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115181725364.png)





#### 二、UDP校验和

计算机校验和：

1. 对所有参与运算的内容（包括UDP报文段）按16位（16位对齐）求和；
2. 求和过程中遇到的任何溢出（即进位）都被回卷（即进位与和的最低位再相加）；
3. 最后得到的和取反码。







### 第五节  传输控制协议（TCP）

#### 一、TCP报文段结构

![image-20220115182120114](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115182120114.png)





#### 二、TCP连接管理

连接建立——三次握手：

1. SYN连接请求
2. SYNACK确认
3. ACK确认



##### TCP三次握手建立连接过程

![image-20220115183025552](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115183025552.png)



##### TCP断开连接的过程——四次挥手

![t](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115183632501.png)



 

#### 三、TCP可靠数据传输

1. TCP的可靠数据传输实现机制包括差错编码、确认、序号、重传、计时器等。

2. TCP的可靠数据传输是基于滑动窗口协议，但是发送窗口大小动态变化。

   （1）封装TCP报文段

   （2）发出一个报文段后启动一个计时器

   （3）通过校验和发现数目差错

   （4）通过序号重新排序，丢弃重复的报文段

   （5）流量控制





#### 四、TCP流量控制

1. TCP利用窗口机制实现流量控制，但不是简单的滑动窗口协议。

2. TCP连接建立时，双方都为之分配了固定大小的缓冲空间；TCP的接收端只允许另一端发送其缓冲区所能接纳的数据。

   （1）接收端在给发送端发送确认段时，通告接收窗口大小；

   （2）发送端在接下来发送数据段时，确保未确认段的应用数据总量不超过接收端通告的接收窗口大小，从而确保接收端不会发生缓存溢出。





#### 五、TCP拥塞控制

1. 窗口机制：

   通过调节窗口的大小实现对发送数据速率的调整。

2. 窗口调整的基本策略：

   AIMD（Additive Increase，Multiplicative Decrease）加性增加，乘性减少；

   网络未发生拥塞时，逐渐”加性“增加窗口大小，当网络拥塞时”乘性“快速减小窗口大小。

3. TCP的拥塞控制算法：

   包括了慢启动、拥塞避免、快速重传和快速恢复4部分。



#### 本章小结

本章主要介绍了传输层的基本服务、服用与分解、停——等协议与滑动窗口协议、UDP协议、TCP协议等内容。



##### 本章重难点回顾：

1. 可靠数据传输原理、停——等协议、滑动窗口协议；
2. TCP连接建立和释放过程；
3. TCP可靠数据传输机制和拥塞控制方法。







## 第四章  网络层

![image-20220115190337895](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115190337895.png)



### 第一节  网络层服务

网络层的主要作用是将网络层数据报从源主机送达目的主机。

主要功能包括：

1. 转发：分组从输入接口转移到输出接口；
2. 路由选择：决定分组经过的路由和路径。

![image-20220115190814140](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115190814140.png)







### 第二节  数据报网络与虚电路网络

#### 一、数据报网络

数据包网络（不可靠）：按照目的主机地址进行路由选择的网络。

特点：

1. 无连接；
2. 每个分组作为一个独立的数据报进行传送，路径也可能不同；
3. 分组可能出现乱序和丢失。





#### 二、虚电路网络

虚电路网络在网络层提供面向连接的分组交换服务。

特点：

1. 建立一条网络层逻辑连接；
2. 不需要为每条虚电路分配独享资源（区别于电路交换）；
3. 根据虚电路号沿虚电路路径按序发送分组。







### 第三节  网络互连与网路互联设备

#### 一、异构网络互连

异构网络：两个网络的通信技术和运行的协议不同。

异构网络互连的基本策略：

1. 协议转换；
2. 构建虚拟互联网络。

![image-20220115192204196](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115192204196.png)





#### 二、路由器

![image-20220115193315390](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115193315390.png)

![image-20220115195257108](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115195257108.png)







### 第四节  网络层拥塞控制

#### 一、网络拥塞

拥塞：一种持续过载的网络状态，此时用户对网络资源（包括链路带宽、存储空间和处理器处理能力等）的总需求超过了网络固有的容量。

原因：

1. 缓冲区容量有限；
2. 传输线路的带宽有限；
3. 网络节点的处理能力有限；
4. 网络中某些部分发生了故障。





#### 二、流量感知路由

流量感知路由：

根据网络负加载动态调整，将网络流量引导到不同的链路上，均衡网络负载，从而延缓或避免拥塞发生。

解决网络负载的震荡现象：

1. 多路径路由；
2. 缓慢转移流量至另一链路。





#### 三、准入控制

准入控制：

是一种广泛应用于虚电路网路的拥塞预防技术。

基本思想：

对新建虚电路进行审核，如果新建立的虚电路会导致网络变得拥塞，那么网络拒绝建立该新虚电路。

拥塞状况的量化：基于平均流量和瞬时流量。





#### 四、流量调节

1. 感知拥塞

2. 处理拥塞：将拥塞信息通知到其上游结点。

   处理方法：

   （1）抑制分组：给拥塞数据报的**源主机**返回一个抑制分组。

   （2）背压：让抑制分组在从拥塞结点到源结点路径上的**每一跳**都发挥抑制作用。





#### 五、负载脱落

负载脱落：路由器主动丢弃某些数据报。

如何选择要丢弃的数据报：

1. 丢弃新分组：如GBN
2. 丢弃老分组：如实时视频流







### 第五节  Internet网络层

#### 一、IPv4协议

![image-20220115201026669](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115201026669.png)

![image-20220115201354505](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115201354505.png)





#### 二、IPv4编址

IPv4地址长度：32位二进制

点分十进制标记法

![image-20220115201605713](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115201605713.png)

![image-20220115202140774](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115202140774.png)



**子网划分：**将一个较大的子网划分位多个较小子网的过程。

较大子网具有较短的网络前缀，较小子网具有稍长的前缀。

**超网：**将具有较长前缀的相对较小的子网合并为一个具有稍短前缀的相对较大的子网。

**子网掩码：**用来定义一个子网的网络前缀长度。



![image-20220115203441405](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115203441405.png)

![image-20220115203744896](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115203744896.png)

![image-20220115204228904](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115204228904.png)



![image-20220115204628980](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115204628980.png)





##### 路由聚合：

![image-20220115204819037](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115204819037.png)



**例题：**

![image-20220115205605935](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115205605935.png)

![image-20220115205658763](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115205658763.png)







#### 三、动态主机配置协议

动态主机配置协议——DHCP：

为网络内的主机提供动态IP地址分配服务。

1. DHCP服务器发现
2. DHCP服务器提供
3. DHCP服务器请求
4. DHCP确认

![image-20220115205906019](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115205906019.png)







#### 四、网络地址转换

网络地址转换NAT——使用私有地址访问互联网

1. 从内网进入互联网的IP地址数据：

   将其源IP地址替换位NAT服务器拥有的合法的公共IP地址，同时替换源端口号，并将替换关系记录到NAT转换表中；

2. 从互联网返回的IP数据报：

   依据其目的IP地址与目的端口号检索NAT转换表，得到内部私有IP地址与端口号，替换目的IP地址和目的端口号，然后将IP地址转发到内部网络。

![image-20220115210533762](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115210533762.png)





#### 五、ICMP

互联网控制报文协议（ICMP）

在主机或路由间，实现差错信息报告。

ICMP差错报告报文共5种：

终点不可达、源点抑制、时间超过、参数问题和路由重定向等。

ICMP询问报文：

回声（echo）请求/应答、时间戳（timestamp）请求应答。





#### 六、IPv6

1. 解决IPv4地址耗尽的问题。

2. IPv6报文首部长度固定40字节。

3. IPv6地址长度128位。

4. IPv4到IPv6的迁移：

   双协议栈

   隧道







### 第六节  路由算法与路由协议

#### 一、链路状态路由选择算法

链路状态路由选择算法是一种全局式路由选择算法。

每个路由器通过从其它路由器获得的链路状态信息构建出整个网络的拓扑图。

计算最短路径——Dijkstra算法

![image-20220115213524705](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115213524705.png)



 

#### 二、距离向量路由选择算法

每个节点基于其与邻居结点间的直接链路距离，以及邻居交换过来的距离向量，计算并更新其到达每个目的结点的最短距离，然后将新的距离向量再通告给其所有邻居，知道距离向量不再改变。Bellman-Ford方程：

![image-20220115214130297](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115214130297.png)



![image-20220115214654155](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115214654155.png)





#### 三、层次化路由选择

实现大规模网络路由选择最有效的、可行的解决方案。

划分自治系统：

网关路由器

自治系统间路由协议

![image-20220115214854998](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115214854998.png)







#### 四、Internet路由选择协议

1. 内部网关协议

   （1）RIP：

   基于距离向量路由选择算法，跳数作为距离度量，最大距离不超过15跳，每30秒交换一次距离向量。

   （2）OSPF：

   基于链路状态路由选择算法。

2. 外部网关协议：

   BGP



#### 本章小结

本章主要介绍了网络层提供的服务、异构网络互连、拥塞控制、Internet网络层协议和路由算法与路由协议等内容。



##### 本章重难点回顾：

1. IP协议数据报结构、IP数据报分片、IP地址、子网划分、路由聚合等；
2. 链路状态路由算法、距离向量路由算法。









## 第五章  数据链路层与局域网

![image-20220115220314578](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115220314578.png)



### 第一节  数据链路层服务

链路： 通信链路连接相邻结点的通信信道。

链路层数据单元：帧

![image-20220115220553364](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115220553364.png)



主要功能包括：

1. 组帧
2. 链路接入：点对点链路、广播链路
3. 可靠交付（可靠传输方法多用于高出错率链路）
4. 差错控制







### 第二节  差错控制

#### 一、差错控制的基本方式

差错控制的四种基本方式：

1. 检错重发

2. 前向纠错

   接收端进行差错纠正

3. 反馈校验

   接收端将收到的数据原封不动发回发送端。

4. 检错丢弃





#### 二、差错编码的基本原理

香农信道编码定理：

理论上可以通过编码使得数据传输过程不发生错误，或者将错误概率控制在很小的数值之下。

![image-20220115223258065](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115223258065.png)





#### 三、差错编码的检错和纠错能力

![image-20220115223554720](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115223554720.png)





#### 四、典型的差错编码

1. 奇偶校验码：

   奇校验：编码后的码字中 ”1“ 的个数为奇数

   偶校验：编码后的麻子中 ”1“ 的个数位偶数

2. 汉明码：

   可以实现单个比特差错纠正。

3. 循环冗余码CRC

   检错能力强，编码效率高，实现简单

![image-20220115224733342](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115224733342.png)

![image-20220115225113362](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115225113362.png)







### 第三节  多路访问控制协议

#### 一、信道划分MAC协议

多路访问控制MAC：

广播信道上用于协调各个结点的数据发送。

信道划分MAC协议：

1. 频分多路复用：在频域内将信道带宽划分为多个子信道。
2. 时分多路复用：将通信信道的传输信号在时域内划分为多个等长的时隙。
3. 波分多路复用：在一根光纤中，传输多路不同波长的光信号。
4. 码分多路复用：从编码域进行划分，使得编码后的信号在同一信道中混合传输。





#### 二、随机访问MAC协议

1. ALOHA协议

   纯ALOHA：直接发送→信道侦听→冲突重发

   时隙ALOHA：时隙开始时发送→信道侦听→冲突则下一时隙以概率P重发

2. 载波监听多路访问协议CSMA

   **发送前监听信道是否空闲**

   （1）非坚持CSMA：忙则等待随机时间后再侦听

   （2）1-坚持CSMA：忙则持续侦听

   （3）P-坚持CSMA：闲则概率P在最近时隙发送

3. 带冲突检测的载波监听多路访问协议CSMA/CD

   监听空闲后发送，发送时检测碰撞，碰撞后等待重发。





#### 三、受控接入MAC协议

1. 集中式控制

   由一个主机负责调度其他同心站接入信道，从而避免冲突。

   主要方法：轮询技术，又分为轮叫轮询和传递轮询。、

2. 分散式控制

   典型方法：令牌技术，如令牌环网。

![image-20220115233524865](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220115233524865.png)







### 第四节  局域网

#### 一、数据链路层寻址与ARP

1. MAC地址

   每个接口对应一个MAC地址，且全球唯一；

   长度48位。

2. 地址解析协议（ARP）

   根据本网内目的主机或默认网关的IP地址获取其MAC地址；

   查询/ 相应的方式。





#### 二、以太网

1. IEEE802.11标准

2. 采用CSMA/CD访问控制方法

3. 以太网技术

   （1）10Base-5，10Base-T

   （2）快速以太网100Base-TX，100Base-T4，100Base-FX

   （3）千兆以太网

   （4）万兆以太网





#### 三、交换机

1. 转发与过滤

   可以依据接收到的链路层帧的目的MAC地址，选择性地转发到相应的端口。

   以目的MAC地址为主键，查找交换表。

2. 自学习

   交换机通过自学习构建交换表。

3. 优点

   （1）消除冲突，提高性能；

   （2）支持异质链路；

   （3）易于进行网络管理。

![image-20220116110312788](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116110312788.png)





#### 四、虚拟局域网

1. 一种基于交换机（支持VLAN功能）的逻辑分隔广播域的局域网应用形式。

2. 不受物理位置的限制，以软件的方式划分和管理局域网中的工作组。

3. 能抑制广播风暴。

4. 划分方法：

   * 基于交换机端口

   * 基于MAC地址
   * 基于上层协议类型或地址

![image-20220116111042332](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116111042332.png)







### 第五节  点对点链路协议

#### 一、PPP

点对点协议——PPP

**能够给处理差错检测、支持多种上层协议、允许连接时协商IP地址、允许身份认证。**

**典型应用：拨号上网**

**功能：**

1. 成帧
2. 链路控制协议LCP
3. 网络控制协议NCP





#### 二、HDLC协议

高级数据链路控制——HDLC协议：

* 可应用于点对点链路和点对多点链路。

帧定界：

* 帧的定界符是01111110

![image-20220116164901928](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116164901928.png)

位填充：

* 发送端：只要发现数据字段5个连续的1，就立即插入一个0，保证数据字段不会出现6个1；
* 接收端：发现数据中出现5个连续的1，就删除其后的0，还原成原来的信息。





#### 本章小结

本章主要介绍了数据链路层服务，差错编码，多路访问控制协议，局域网，点对点链路协议等内容。



##### 本章重难点回顾：

1. 典型的差错编码，如CRC等；
2. CSMS/CD协议；
3. ARP、以太网、交换机、VLAN等局域网工作原理。







## 第六章  物理层

![image-20220116165705868](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116165705868.png)



### 第一节  数据通讯基础

#### 一、数据通信基本概念

1. 消息：人类能够感知的描述称为消息。
2. 信息：信息是对事物状态或存在方式的不确定性表述，**信息是可以度量的**。
3. 通信：本质就是在一点精确或近似地再生另一点的信息。
4. 通信系统：能够实现通信功能的各种技术、设备和方法的总体。
5. 信号：通信系统中，在传输通道中传播的**信息的载体**。
6. 数据：对客观事物的性质状态以及相互关系等进行记载的**符号**及其组合。
7. 信道：信道是以传输介质为基础的信号通道。 





#### 二、数据通信系统模型

#### 1. 通信系统的构成

信源、发送设备、信道、接收设备、信宿和噪声源等部分。

![image-20220116170504879](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116170504879.png)



##### 2. 模拟通信和数字通信

模拟信号：信号的因变量是连续的。

数字信号：信号的因变量是离散的。

![image-20220116170647495](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116170647495.png)



##### 3. 数据通信方式

（1）单向通信、双向交替通信和双向同时通信；

（2）并行通信和串行通信；

（3）异步通信和同步通信。



##### 4. 数据通信系统的功能

（1）信道利用；

（2）接口及信号产生；

（3）同步；

（4）差错检测与纠正；

（5）寻址与路由；

（6）网络管理；

（7）安全保证。







### 第二节  物理介质

#### 一、导引型传输介质

1. 架空明线

   架空明线是指平行且相互分离或绝缘的架空裸线线路，通常采用铜线或铝线等金属导线。

2. 双绞线

   两根相互绝缘的铜线并排绞合在一起，减少对相邻导线的电磁干扰。

   ![image-20220116171710254](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116171710254.png)

3. 同轴电缆

   抗电磁干扰性能好。

   现在主要用于频带传输，如有线电视。

4. 光纤

   基本原理是利用光的全反射。

   通信容量大、距离远、抗电磁干扰性能好，保密性好。

   分为多模光纤和单模光纤。





#### 二、非导引型传输介质

1. 地波传播

   低频信号，沿地球表面传播。

2. 天波传播

   较高频信号，利用电离层的反射传播。

3. 视线传播

   高频信号，点对点直线传播，中继传输。







### 第三节  信道与信道容量

#### 一、信道分类与模型

狭义信道：信号传输介质。

广义信道：信号传输介质和通信系统的一些变换装置。

1. 调制信道：信号从调制解调器的输出端到解调器的输入端经过的部分。
2. 编码信道：数字信号由编码器输出端传输到译码器输入端经过的部分。

![image-20220116212501035](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116212501035.png)





#### 二、信道传输特性

1. **恒参信道：**各种有线信道和部分无线信道，传输特性变化小、缓慢，如微波视线传播链路和卫星链路等。

   （1）对信号幅值产生固定的衰减；

   （2）对信号输出产生固定的时延。

2. **随参信道：**传输特性随时间随机快速变化。

   （1）信号的传输衰减随时间随机变化；

   （2）信号的传输时延随时间随机变化；

   （3）存在多径传播现象。





#### 三、信道容量

信道容量是指信道无差错传输信息的最大平均信息速率。

1. 连续信道容量

   理想无噪声的信道哦容量，奈奎斯特公式：

   ![image-20220116221755165](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116221755165.png)

   有噪声连续信道的信道容量，香农公式：

   ![image-20220116221841682](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116221841682.png)

2. 离散信道容量

![image-20220116222542786](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116222542786.png)







### 第四节  基带传输

#### 一、基带传输基本概念

**模拟基带信号**：模拟信源发出的原始电信号。

**数字基带信号**：数字信源发出的基带信号。

模拟基带信号可以通过信源编码转换为数字基带信号。

**基带传输**：直接在信道中传送基带信号。

数字基带传输系统：

![image-20220116222859393](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116222859393.png)





#### 二、数字基带传输编码

![image-20220116223025299](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116223025299.png)



![image-20220116223312971](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116223312971.png)



![image-20220116223435916](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116223435916.png)

![image-20220116223950930](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116223950930.png)







### 第五节  频带传输

#### 一、频带传输基本概念

1. 数字调制

   利用数字基带信号控制载波信号的某些特征参量，使载波信号的这些参量的变化反映数字基带信号的信息，进而将数字基带信号转变为数字通带信号的过程。

2. 键控法

   利用两种不同的幅值、频率或相位来分别表示0或1.





#### 二、频带传输中的三种调制方式

1. 二进制数字调制

   **（1）二进制幅移键控**

   **（2）二进制频移键控**

   **（3）二进制相移键控**

   **（4）二进制差分相移键控**

2. 多进制数字调制

3. 正交幅值调制QAM

![image-20220116224703504](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116224703504.png)



![image-20220116224829912](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116224829912.png)



![image-20220116224919292](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116224919292.png)



![image-20220116225123162](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116225123162.png)







### 第六节  物理层接口规程

#### 一、物理层接口概述

物理层接口的四大特性，分别为机械特性、电气特性、功能特性以及规程特性。

物理层接口规范定义DTE和DCE之间的接口特性。

DTE：数据终端设备

DCE：数据电路端接设备





#### 二、物理层接口特性

1. 机械特性

   通信实体间硬件连接接口的机械特点。

2. 电气特性

   在物理连接上，导线的电气连接及有关电路的特性。

3. 功能特性

   物理接口各条信号线的用途。

4. 规程特性

   通信协议，指明利用接口传输比特流的全过程，以及各项用于传输的事件发生的合法顺序。



#### 本章小结

本章主要介绍了物理层功能、数据通信概念及系统模型、物理介质、信道与信道容量、基带传输、频带传输、物理接口规程等内容。



##### 本章重难点回顾：

1. 信道容量；
2. 基带传输编码；
3. 频带传输与调制技术。







## 第七章  无线与移动网络

![image-20220116233327782](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116233327782.png)



### 第一节  无线网络

#### 一、无线网络基本结构

![image-20220116233501660](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116233501660.png)





#### 二、无线链路与无线网络特性

![image-20220116233711295](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220116233711295.png)







### 第二节  移动网络

#### 一、移动网络基本原理

1. 不同的移动性需求
2. 网络层地址保持不变的重要性
3. 有线基础设施的支持





#### 二、寻址

![image-20220117082336799](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117082336799.png)





#### 三、移动节点的路由选择

![image-20220117082915859](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117082915859.png)

![image-20220117083055522](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117083055522.png)







### 第三节  无线局域网IEEE 802.11

#### 一、IEEE 802.11体系结构

1. 基站AP

2. 基本服务集BSS

   AP发现：

   （1）主动扫描

   探测帧

   （2）被动扫描

   信标帧

![image-20220117083439079](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117083439079.png)



![image-20220117204812323](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117204812323.png)





#### 二、IEEE 802.11的MAC协议

CSMA/CA——带碰撞避免的CSMA：

CSMA/CA通过RTS和CTS帧的交换，可以实现信道的预约占用，避免数据帧传输过程中的冲突

![image-20220117205601247](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117205601247.png)







#### 三、IEEE 802.11帧

1. IEEE802.11的帧类型：

   控制帧、数据帧和管理帧。

2. MAC首部：

   长度30字节；包括4个地址字段（主要使用目的地址、源地址、AP地址）

![image-20220117205545787](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117205545787.png)







### 第四节  蜂窝网络

#### 一、蜂窝网络体系结构

基站系统BBS：基站控制器、收发基站

激动交换中心MSC

网关MSC

![image-20220117205905680](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117205905680.png)





#### 二、蜂窝网络中的移动性管理

##### 1. 间接路由选择方法：

![image-20220117210048465](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117210048465.png)





#### 三、移动通信2G/3G/4G/5G网络

1. 2G网络

   信令和语音信道都是数字式

2. 3G网络

   无线通信与互联网等多媒体通信结合

3. 4G网络

   高速率数据业务，不同频段、不同业务环境间的无缝漫游。

4. 5G网络

   超高容量、超可靠性、随时随地可接入性







### 第五节 移动IP网络

#### 一、代理发现

1. 代理通告

   外部代理或归属代理使用一种现有路由器发现协议的扩展协议来通告其服务。

   周期性地在所有连接的链路上广播一个类型的字段为9（路由器发现）的 ICMP 报文。

2. 代理请求

   移动节点广播一个代理请求报文，该报文是一个类型值为10的 ICMP 报文。

   收到该请求的代理将直接向该移动节点单播一个代理通告





#### 二、向归属代理注册

移动结点和/或外部代理向一个移动结点额归属代理注册或注销COA所使用的协议。

1. 移动结点向外部代理发送一个移动IP注册报文；
2. 外部代理记录移动结点的永久IP地址，并发送注册请求给归属代理；
3. 归属代理接收注册请求并发送注册应答；
4. 外部代理结束注册应答，然后将其转发给移动结点。







### 第六节  其他典型无线网络简介

#### 其他典型无线网络简介

1. WiMax

   IEEE 802.16，城域网技术，传输距离更远，接入带宽更高。

2. 蓝牙

   IEEE 802.15.1，小范围，低功率，低成本，自组织。

3. ZigBee

   IEEE 802.15.4，低功率，低数据速率，低工作周期。





#### 本章小结

本章介绍了无线链路和无线网络特性、移动网络基本原理、无线局域网IEEE 02.11、蜂窝网络、移动IP网络、WiMax、蓝牙、ZigBee等内容。



##### 本章重难点回顾：

1. 无线网络基本结构；
2. 移动网络基本原理；
3. CSMA/CA。









## 第八章   网络安全基础

![image-20220117222204745](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117222204745.png)



### 第一节  网络安全概述

#### 一、基本概念

网络安全通信所需要的基本属性：

1. 机密性；
2. 消息完整性；
3. 可访问与可用性；
4. 身份认证。





#### 二、网络安全威胁

1. 窃听；
2. 插入；
3. 假冒；
4. 劫持；
5. 拒绝服务DoS和分布式拒绝服务DDoS；
6. 映射；
7. 嗅探；
8. IP欺骗。







### 第二节  数据加密

明文：未加密的消息。

密文：被加密的消息。

**加密：**伪装消息以隐藏消息的过程，即明文转变为密文的过程。

**解密：**密文转变为明文的过程。





#### 一、传统加密方式

1. 替代密码

   用密文字母替代明文字母。

   移位密码加密函数：

![image-20220117224313389](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117224313389.png)

​		解密函数：

![image-20220117224335456](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117224335456.png)

2. 换位密码

   根据一定的规则重新排列明文。

![image-20220117224747320](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117224747320.png)

![image-20220117224939516](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117224939516.png)



![image-20220117225438567](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117225438567.png)





#### 二、对称密钥加密

现代密码分类：

对称密钥密码：加密密钥和解密密钥相同（**密钥保密**）。

非对称密钥密码：加密密钥和解密密钥不同。



对称密钥密码分类：

* 分组密码：DES、AES、IDEA等。
* 流密码。



1. DES：56位密钥，64位分组。
2. 三重DES：使用两个密钥（共112位），执行三次DES算法。
3. AES：分组128位，密钥128/192/256位。
4. IDEA：分组64位，密钥128位。





#### 三、非对称/公开密钥加密

密钥成对使用，其中一个用于加密，另一个用于解密，且加密密钥可以公开，也称公开密钥加密。

典型的公钥算法：

* Diffie-Hellman算法

* RSA算法

![image-20220117230733731](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220117230733731.png)







### 第三节  消息完整性与数字签名

#### 一、消息完整性检测方法

密码散列函数

1. 特性：

   定长输出；

   单向性（无法根据散列值逆推报文）；

   抗碰撞性（无法找到具有相同散列值的两个报文）。

2. 典型散列函数

   MD5：128位散列值

   SHA-1：160位散列值





#### 二、报文认证

报文认证是使消息的接收者能够检验收到的消息是否是真实的认证方法。来源真实、未被篡改。

1. 报文摘要（数字指纹）

2. 报文认证方法

   简单报文验证：仅使用报文摘要，无法验证来源真实性。

   报文认证码：使用共享认证密钥，但无法防止接收方篡改。





#### 三、数字签名

身份认证、数据完整性、不可否认性

1. 简单数字签名：直接对报文签名
2. 签名报文摘要

![image-20220118000155669](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220118000155669.png)









### 第四节  身份认证

![image-20220118074451318](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220118074451318.png)







### 第五节  密钥分发中心与证书认证机构

#### 一、密钥分发中心

##### 1. 基于KDC的密钥生成个分发

![image-20220118075030500](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220118075030500.png)



##### 2. 认证中心CA：将公钥与特定的实体绑定

1. 证实一个实体的真实身份；
2. 为实体颁发数字证书（实体身份与公钥绑定）。

![image-20220118075510320](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220118075510320.png)



![image-20220118075628958](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220118075628958.png)







### 第六节  防火墙与入侵检测系统

#### 一、防火墙基本概念

防火墙：能够隔离组织内部网络与公共互联网，允许某些分组通过，而阻止其他分组进入或离开内部网络的软件、硬件或者软件硬件结合的一种设施。

前提：从外部到内部和从内部到外部的所有流量都经过防火墙。

![image-20220118075936974](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220118075936974.png)





#### 二、防火墙分类

1. 无状态分组过滤器

   基于特定的规则对分组是通过还是丢弃进行决策。

   使用访问控制列表（ACL）实现防火墙规则。

2. 有状态分组过滤器

   跟踪每个TCP连接建立、拆除，根据状态确定是否允许分组通过。

3. 应用网关

   鉴别用户身份或针对授权用户开放特定服务。





#### 三、入侵检测系统IDS

入侵检测系统（IDS）是当观察到潜在恶意流量时，能够产生警告的设备或系统。

![image-20220118080603803](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220118080603803.png)







### 第七节  网络安全协议

#### 一、安全电子邮件

1. 电子邮件安全需求

   （1）机密性；

   （2）完整性；

   （3）身份认证性；

   （4）抗抵赖性。

2. 安全电子邮件标准

   **PGP**





#### 二、安全套接字层SSL

1. SSL是介于应用层和传输层之间的安全协议。
2. SSL协议栈

![image-20220118081119523](C:\Users\lenovo\AppData\Roaming\Typora\typora-user-images\image-20220118081119523.png)

3. SSL握手过程

   协商密码组，生成密钥，服务器/客户认证与鉴别。





#### 三、虚拟专用网VPN和IP安全协议IPSec

1. VPN

   建立在公共网络上的安全通道，实现远程用户、分支机构、业务伙伴等与机构总部网络的安全连接，从而构建针对特定组织机构的专用网络。

   关键技术：隧道技术，如IPSec

2. 典型的网络层安全协议——IPSec

   提供机密性、身份鉴别、数据完整性验证和防重放攻击服务。

   体系结构：认证头AH协议、封装安全载荷ESP协议。

   运行模式：传输模式（AH传输模式、ESP传输模式）、隧道模式（AH隧道模式、ESP隧道模式）。





#### 本章小结

本章介绍勒网络安全基本概念、数据加密算法、消息完整性与数字签名、身份认证、密钥分发中心与认证机构、防火墙与入侵检测以及网络安全协议等内容。



##### 本章重难点回顾：

1. 网络安全基本属性；
2. 典型数据加密算法；
3. 消息完整性、数字签名以及身份认证原理。
