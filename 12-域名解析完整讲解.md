#### 1. 域名的层次结构

##### 1.1 什么是域名

根：.

顶级域名：cn  com  edu  net  gov  org  ...

域名下的网站：www.baidu.com（全球唯一）



#### 2. 域名注册

域名只能是唯一的。



#### 3. 域名解析的过程

分布式查询，先在本地服务器查找，本地服务器找不到，然后去根服务器询问，根服务器告诉去哪台服务器找，逐步执行。

* 分为迭代查询和递归查询

* 域名服务器有缓存，从别的服务器那里查到之后会缓存在本地服务器一段时间，下次就不用再解析了。缓存时间一般是一天。



#### 4. 在客户端测试域名解析

* ping  [域名]
* nslookup 测试域名解析
* 8.8.8.8 谷歌公司的DNS服务器、222.222.222.222河北石家庄电信DNS服务器
* 客户端配置多个DNS服务器可以实现容错



#### 5. 在内网安装DNS服务器的意义

1. 节省内网域名解析占用的上网流量；
2. 解析内网服务器的IP地址；
3. 内网有域环境，域中的计算机通过内网的DNS定位域控制器。



#### 6. 安装DNS服务器



#### 7. 在客户端使用nslookup进行测试，查看DNS缓存



#### 8. 查看DNS服务器根提示，测试DNS是否工作正常



#### 9. 正向查找区（正向解析）与反向查找区（反向解析）

* 正向查找区：域名解析为IP地址
* 反向查找区：IP地址解析为域名



#### 10. 记录类型

* A记录：名称→IP

* cname记录：名称→名称

* 邮件交换记录（MX）：解析域名下的邮件服务器
* 泛域名：域名写错了默认解析到的地址 



#### 11.创建了什么区域，DNS服务器就是哪个区域的权威



#### 12. 利用DNS轮询支持镜像Web站点

* 一个域名对应多个Ip地址



#### 13. 反向查找



#### 14. 条件转发



#### 15. 将DNS配置为转发器



#### 16.DNS容错



#### 17. 委派



#### 18. 域中的计算机会自动像DNS注册名称和IP地址



#### 19. DHCP和DNS组合实现域中计算机地址自动配置和解析



#### 20. 域中计算机名称解析（不是域名）

1. 搜索后缀可以通过DHCP配置
2. 也可以通过更改TCP/IP属性，人工添加搜索列表
   * 解析计算机名称，会自动添加搜索后缀，构建成域名，通过查找DNS实现域名解析。



#### 21. hosts文件

* 先看本地缓存→hosts→DNS解析
* C:\Windows\System32\drivers\etc\hosts

1. 个别网站打不开hosts文件
2. 杀毒软件病毒库更新失败→找hosts文件
3. hosts文件实现钓鱼网站（通过修改hosts文件）

往hosts文件里添加记录的命令：`echo 2.2.2.2 www.sohu.com >C:\Windows\System32\drivers\etc\hosts `.





